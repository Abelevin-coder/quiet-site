---
import EssayLayout from "../../layouts/EssayLayout.astro";
---

<!-- Password gate (single) -->
<div id="gate">
  <p>This essay is shared privately.</p>

  <input
    type="password"
    id="pw"
    placeholder="Password"
    style="margin-top: 1rem;"
  />

  <button id="enterBtn" style="margin-left: 0.5rem;">
    Enter
  </button>
</div>

<!-- Essay content (single) -->
<div id="content" style="display: none;">
  <EssayLayout
    title="Attraction From the Inside"
    subtitle="Why attraction is rarely the confusing part"
    author="Abe Levin"
    date="January 2026"
  >
    <p class="readers-note">
      <strong>Reader’s Note:</strong><br />
      This essay is a clarification. It responds to a cultural confusion in which
      attraction has been mistaken for connection, and more. Reading this is meant
      to restore a sequence that already exists. It returns connection to its
      proper place—one not manufactured by desire or performance. What is
      described here is not new. It is the order that was placed into the world
      as it was meant to be.
    </p>

    <p>
      By the time I was doing well by most measures — work that mattered,
      financial independence, a life that felt chosen rather than inherited —
      I had learned how to move easily through rooms. I knew how to be seen
      without asking to be. I knew how to speak clearly, when to hold back,
      when to lean in. None of this felt strategic anymore. It felt like fluency.
    </p>

    <!-- rest of essay unchanged -->
  </EssayLayout>
</div>

<script is:inline>
  const PASSWORD = "attraction";

  function unlock() {
    const input = document.getElementById("pw");
    const gate = document.getElementById("gate");
    const content = document.getElementById("content");
    if (!input || !gate || !content) return;

    const pw = input.value.trim();
    if (pw === PASSWORD) {
      gate.style.display = "none";
      content.style.display = "block";
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("enterBtn");
    const input = document.getElementById("pw");

    if (btn) btn.addEventListener("click", unlock);
    if (input) {
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") unlock();
      });
    }
  });
</script>
